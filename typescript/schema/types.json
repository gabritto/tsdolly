{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "AssignmentExpression": {
      "additionalProperties": false,
      "properties": {
        "left": {
          "$ref": "#/definitions/VariableAccess"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "AssignmentExpression"
          ],
          "type": "string"
        },
        "right": {
          "$ref": "#/definitions/Expression"
        }
      },
      "required": [
        "left",
        "nodeId",
        "nodeType",
        "right"
      ],
      "type": "object"
    },
    "Block": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "Block"
          ],
          "type": "string"
        },
        "statements": {
          "items": {
            "$ref": "#/definitions/Statement"
          },
          "type": "array"
        }
      },
      "required": [
        "nodeId",
        "nodeType",
        "statements"
      ],
      "type": "object"
    },
    "Declaration": {
      "$ref": "#/definitions/FunctionDecl"
    },
    "Expression": {
      "anyOf": [
        {
          "$ref": "#/definitions/AssignmentExpression"
        },
        {
          "$ref": "#/definitions/VariableAccess"
        },
        {
          "$ref": "#/definitions/FunctionCall"
        }
      ]
    },
    "ExpressionStatement": {
      "additionalProperties": false,
      "properties": {
        "expression": {
          "$ref": "#/definitions/Expression"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "ExpressionStatement"
          ],
          "type": "string"
        }
      },
      "required": [
        "expression",
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "FunctionCall": {
      "additionalProperties": false,
      "properties": {
        "arguments": {
          "items": {
            "$ref": "#/definitions/VariableAccess"
          },
          "type": "array"
        },
        "name": {
          "$ref": "#/definitions/FunctionIdentifier"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "FunctionCall"
          ],
          "type": "string"
        }
      },
      "required": [
        "arguments",
        "name",
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "FunctionDecl": {
      "additionalProperties": false,
      "properties": {
        "body": {
          "$ref": "#/definitions/Block"
        },
        "name": {
          "$ref": "#/definitions/FunctionIdentifier"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "FunctionDecl"
          ],
          "type": "string"
        },
        "parameters": {
          "items": {
            "$ref": "#/definitions/ParameterDecl"
          },
          "type": "array"
        }
      },
      "required": [
        "body",
        "name",
        "nodeId",
        "nodeType",
        "parameters"
      ],
      "type": "object"
    },
    "FunctionIdentifier": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "FunctionIdentifier"
          ],
          "type": "string"
        }
      },
      "required": [
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "Identifier": {
      "anyOf": [
        {
          "$ref": "#/definitions/FunctionIdentifier"
        },
        {
          "$ref": "#/definitions/ParameterIdentifier"
        }
      ]
    },
    "Node": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "type": "string"
        }
      },
      "required": [
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "ParameterDecl": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "$ref": "#/definitions/ParameterIdentifier"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "ParameterDecl"
          ],
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/Type"
        }
      },
      "required": [
        "name",
        "nodeId",
        "nodeType",
        "type"
      ],
      "type": "object"
    },
    "ParameterIdentifier": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "ParameterIdentifier"
          ],
          "type": "string"
        }
      },
      "required": [
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "PrimType": {
      "anyOf": [
        {
          "$ref": "#/definitions/TNumber"
        },
        {
          "$ref": "#/definitions/TString"
        }
      ]
    },
    "Program": {
      "additionalProperties": false,
      "properties": {
        "declarations": {
          "items": {
            "$ref": "#/definitions/Declaration"
          },
          "type": "array"
        },
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "Program"
          ],
          "type": "string"
        }
      },
      "required": [
        "declarations",
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "Solutions": {
      "items": {
        "$ref": "#/definitions/Program"
      },
      "type": "array"
    },
    "Statement": {
      "$ref": "#/definitions/ExpressionStatement"
    },
    "TNumber": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "TNumber"
          ],
          "type": "string"
        }
      },
      "required": [
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "TString": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "TString"
          ],
          "type": "string"
        }
      },
      "required": [
        "nodeId",
        "nodeType"
      ],
      "type": "object"
    },
    "Type": {
      "$ref": "#/definitions/PrimType"
    },
    "VariableAccess": {
      "additionalProperties": false,
      "properties": {
        "nodeId": {
          "type": "string"
        },
        "nodeType": {
          "enum": [
            "VariableAccess"
          ],
          "type": "string"
        },
        "variable": {
          "$ref": "#/definitions/ParameterIdentifier"
        }
      },
      "required": [
        "nodeId",
        "nodeType",
        "variable"
      ],
      "type": "object"
    }
  }
}